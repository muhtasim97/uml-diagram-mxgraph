<html>
  <head>
    <title>Hello, World! example for mxGraph</title>

    <!-- Sets the basepath for the library if not in same directory -->
    <script type="text/javascript">
      mxBasePath = "https://jgraph.github.io/mxgraph/javascript/src";
    </script>

    <!-- Loads and initializes the library -->
    <script
      type="text/javascript"
      src="https://jgraph.github.io/mxgraph/javascript/src/js/mxClient.js"
    ></script>

    <!-- Example code -->
    <script type="text/javascript">
      // Program starts here. Creates a sample graph in the
      // DOM node with the specified ID. This function is invoked
      // from the onLoad event handler of the document (see below).
      function main(container) {
        // Checks if browser is supported
        if (!mxClient.isBrowserSupported()) {
          // Displays an error message if the browser is
          // not supported.
          mxUtils.error("Browser is not supported!", 200, false);
        } else {
          // Creates the graph inside the DOM node.
          var graph = new mxGraph(container);

          // Disables basic selection and cell handling
          graph.setCellsEditable(false);

          // Changes the default style for vertices "in-place"
          // to use the custom shape.
          var style = graph.getStylesheet().getDefaultVertexStyle();
          style[mxConstants.STYLE_SHAPE] = "box";

          // Adds a gradient and shadow to improve the user experience
          style[mxConstants.STYLE_GRADIENTCOLOR] = "#FFFFFF";
          style[mxConstants.STYLE_SHADOW] = true;

          // Gets the default parent for inserting new cells. This
          // is normally the first child of the root (ie. layer 0).
          var parent = graph.getDefaultParent();

          // Adds cells to the model in a single step
          graph.getModel().beginUpdate();
          try {
            var v1 = graph.insertVertex(
              parent,
              null,
              null,
              20,
              20,
              140,
              100,
              "shape=mxgraph.custom.headerfooter;mainText=Start text here;headerMainText=start;fillColor2=green;textColor=white"
            );
            var v2 = graph.insertVertex(
              parent,
              null,
              null,
              260,
              210,
              140,
              100,
              "shape=mxgraph.custom.headerfooter;header=0;mainText=End text here;headerMainText=end;fillColor2=red;textColor=white"
            );
            var e1 = graph.insertEdge(parent, null, "", v1, v2);
          } finally {
            // Updates the display
            graph.getModel().endUpdate();
          }
        }
      }
    </script>
  </head>

  <!-- Page passes the container for the graph to the program -->
  <body onload="main(document.getElementById('graphContainer'))">
    <!-- Creates a container for the graph with a grid wallpaper -->
    <div
      id="graphContainer"
      style="
        position: relative;
        overflow: scroll;
        width: 800px;
        height: 600px;
        background: url('https://jgraph.github.io/mxgraph/javascript/examples/editors/images/grid.gif');
        cursor: default;
      "
    ></div>
  </body>
</html>
